!function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(t){"use strict";function e(e,S){function E(e){if(!(!0===_t.data(O+"_intouch")||t(e.target).closest(S.excludedElements,_t).length>0)){var r=e.originalEvent?e.originalEvent:e;if(!r.pointerType||"mouse"!=r.pointerType||0!=S.fallbackToMouseEvents){var l,s=r.touches,p=s?s[0]:r;return $t=w,s?Tt=s.length:!1!==S.preventDefaultEvents&&e.preventDefault(),dt=0,ht=null,ft=null,mt=null,bt=0,gt=0,vt=0,xt=1,wt=0,(c={})[o]=et(o),c[i]=et(i),c[n]=et(n),c[a]=et(a),yt=c,z(),J(0,p),!s||Tt===S.fingers||S.fingers===v||q()?(Ot=at(),2==Tt&&(J(1,s[1]),gt=vt=it(kt[0].start,kt[1].start)),(S.swipeStatus||S.pinchStatus)&&(l=N(r,$t))):l=!1,!1===l?(N(r,$t=_),l):(S.hold&&(Dt=setTimeout(t.proxy(function(){_t.trigger("hold",[r.target]),S.hold&&(l=S.hold.call(_t,r,r.target))},this),S.longTapThreshold)),Z(!0),null)}}var c}function L(e){var c,u,d,h,f=e.originalEvent?e.originalEvent:e;if($t!==y&&$t!==_&&!G()){var x,w=f.touches,$=K(w?w[0]:f);if(St=at(),w&&(Tt=w.length),S.hold&&clearTimeout(Dt),$t=m,2==Tt&&(0==gt?(J(1,w[1]),gt=vt=it(kt[0].start,kt[1].start)):(K(w[1]),vt=it(kt[0].end,kt[1].end),kt[0].end,kt[1].end,mt=xt<1?l:r),xt=(vt/gt*1).toFixed(2),wt=Math.abs(gt-vt)),Tt===S.fingers||S.fingers===v||!w||q()){if(ht=nt($.start,$.end),function(t,e){if(!1!==S.preventDefaultEvents)if(S.allowPageScroll===s)t.preventDefault();else{var r=S.allowPageScroll===p;switch(e){case o:(S.swipeLeft&&r||!r&&S.allowPageScroll!=b)&&t.preventDefault();break;case i:(S.swipeRight&&r||!r&&S.allowPageScroll!=b)&&t.preventDefault();break;case n:(S.swipeUp&&r||!r&&S.allowPageScroll!=g)&&t.preventDefault();break;case a:(S.swipeDown&&r||!r&&S.allowPageScroll!=g)&&t.preventDefault()}}}(e,ft=nt($.last,$.end)),d=$.start,h=$.end,dt=Math.round(Math.sqrt(Math.pow(h.x-d.x,2)+Math.pow(h.y-d.y,2))),bt=ot(),function(t,e){t!=s&&(e=Math.max(e,tt(t)),yt[t].distance=e)}(ht,dt),x=N(f,$t),!S.triggerOnTouchEnd||S.triggerOnTouchLeave){var T=!0;if(S.triggerOnTouchLeave){var k={left:(u=(c=t(c=this)).offset()).left,right:u.left+c.outerWidth(),top:u.top,bottom:u.top+c.outerHeight()};T=function(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}($.end,k)}!S.triggerOnTouchEnd&&T?$t=j(m):S.triggerOnTouchLeave&&!T&&($t=j(y)),$t!=_&&$t!=y||N(f,$t)}}else N(f,$t=_);!1===x&&N(f,$t=_)}}function P(t){var e=t.originalEvent?t.originalEvent:t,o=e.touches;if(o){if(o.length&&!G())return function(t){Et=at(),Lt=t.touches.length+1}(e),!0;if(o.length&&G())return!0}return G()&&(Tt=Lt),St=at(),bt=ot(),R()||!A()?N(e,$t=_):S.triggerOnTouchEnd||!1===S.triggerOnTouchEnd&&$t===m?(!1!==S.preventDefaultEvents&&t.preventDefault(),N(e,$t=y)):!S.triggerOnTouchEnd&&X()?I(e,$t=y,d):$t===m&&N(e,$t=_),Z(!1),null}function M(){Tt=0,St=0,Ot=0,gt=0,vt=0,xt=1,z(),Z(!1)}function D(t){var e=t.originalEvent?t.originalEvent:t;S.triggerOnTouchLeave&&N(e,$t=j(y))}function C(){_t.unbind(lt,E),_t.unbind(ut,M),_t.unbind(st,L),_t.unbind(pt,P),ct&&_t.unbind(ct,D),Z(!1)}function j(t){var e=t,o=H(),i=A(),n=R();return!o||n?e=_:!i||t!=m||S.triggerOnTouchEnd&&!S.triggerOnTouchLeave?!i&&t==y&&S.triggerOnTouchLeave&&(e=_):e=y,e}function N(t,e){var o,i=t.touches;return(!(!B()||!F())||F())&&(o=I(t,e,c)),(!(!U()||!q())||q())&&!1!==o&&(o=I(t,e,u)),W()&&Y()&&!1!==o?o=I(t,e,h):bt>S.longTapThreshold&&dt<x&&S.longTap&&!1!==o?o=I(t,e,f):!(1!==Tt&&$||!(isNaN(dt)||dt<S.threshold)||!X())&&!1!==o&&(o=I(t,e,d)),e===_&&M(),e===y&&(i&&i.length||M()),o}function I(e,s,p){var b;if(p==c){if(_t.trigger("swipeStatus",[s,ht||null,dt||0,bt||0,Tt,kt,ft]),S.swipeStatus&&!1===(b=S.swipeStatus.call(_t,e,s,ht||null,dt||0,bt||0,Tt,kt,ft)))return!1;if(s==y&&B()){if(clearTimeout(Mt),clearTimeout(Dt),_t.trigger("swipe",[ht,dt,bt,Tt,kt,ft]),S.swipe&&!1===(b=S.swipe.call(_t,e,ht,dt,bt,Tt,kt,ft)))return!1;switch(ht){case o:_t.trigger("swipeLeft",[ht,dt,bt,Tt,kt,ft]),S.swipeLeft&&(b=S.swipeLeft.call(_t,e,ht,dt,bt,Tt,kt,ft));break;case i:_t.trigger("swipeRight",[ht,dt,bt,Tt,kt,ft]),S.swipeRight&&(b=S.swipeRight.call(_t,e,ht,dt,bt,Tt,kt,ft));break;case n:_t.trigger("swipeUp",[ht,dt,bt,Tt,kt,ft]),S.swipeUp&&(b=S.swipeUp.call(_t,e,ht,dt,bt,Tt,kt,ft));break;case a:_t.trigger("swipeDown",[ht,dt,bt,Tt,kt,ft]),S.swipeDown&&(b=S.swipeDown.call(_t,e,ht,dt,bt,Tt,kt,ft))}}}if(p==u){if(_t.trigger("pinchStatus",[s,mt||null,wt||0,bt||0,Tt,xt,kt]),S.pinchStatus&&!1===(b=S.pinchStatus.call(_t,e,s,mt||null,wt||0,bt||0,Tt,xt,kt)))return!1;if(s==y&&U())switch(mt){case r:_t.trigger("pinchIn",[mt||null,wt||0,bt||0,Tt,xt,kt]),S.pinchIn&&(b=S.pinchIn.call(_t,e,mt||null,wt||0,bt||0,Tt,xt,kt));break;case l:_t.trigger("pinchOut",[mt||null,wt||0,bt||0,Tt,xt,kt]),S.pinchOut&&(b=S.pinchOut.call(_t,e,mt||null,wt||0,bt||0,Tt,xt,kt))}}return p==d?s!==_&&s!==y||(clearTimeout(Mt),clearTimeout(Dt),Y()&&!W()?(Pt=at(),Mt=setTimeout(t.proxy(function(){Pt=null,_t.trigger("tap",[e.target]),S.tap&&(b=S.tap.call(_t,e,e.target))},this),S.doubleTapThreshold)):(Pt=null,_t.trigger("tap",[e.target]),S.tap&&(b=S.tap.call(_t,e,e.target)))):p==h?s!==_&&s!==y||(clearTimeout(Mt),clearTimeout(Dt),Pt=null,_t.trigger("doubletap",[e.target]),S.doubleTap&&(b=S.doubleTap.call(_t,e,e.target))):p==f&&(s!==_&&s!==y||(clearTimeout(Mt),Pt=null,_t.trigger("longtap",[e.target]),S.longTap&&(b=S.longTap.call(_t,e,e.target)))),b}function A(){var t=!0;return null!==S.threshold&&(t=dt>=S.threshold),t}function R(){var t=!1;return null!==S.cancelThreshold&&null!==ht&&(t=tt(ht)-dt>=S.cancelThreshold),t}function H(){return!(S.maxTimeThreshold&&bt>=S.maxTimeThreshold)}function U(){var t=Q(),e=V(),o=null===S.pinchThreshold||wt>=S.pinchThreshold;return t&&e&&o}function q(){return!!(S.pinchStatus||S.pinchIn||S.pinchOut)}function B(){var t=H(),e=A(),o=Q(),i=V();return!R()&&i&&o&&e&&t}function F(){return!!(S.swipe||S.swipeStatus||S.swipeLeft||S.swipeRight||S.swipeUp||S.swipeDown)}function Q(){return Tt===S.fingers||S.fingers===v||!$}function V(){return 0!==kt[0].end.x}function X(){return!!S.tap}function Y(){return!!S.doubleTap}function W(){if(null==Pt)return!1;var t=at();return Y()&&t-Pt<=S.doubleTapThreshold}function z(){Et=0,Lt=0}function G(){var t=!1;Et&&(at()-Et<=S.fingerReleaseThreshold&&(t=!0));return t}function Z(t){_t&&(!0===t?(_t.bind(st,L),_t.bind(pt,P),ct&&_t.bind(ct,D)):(_t.unbind(st,L,!1),_t.unbind(pt,P,!1),ct&&_t.unbind(ct,D,!1)),_t.data(O+"_intouch",!0===t))}function J(t,e){var o={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return o.start.x=o.last.x=o.end.x=e.pageX||e.clientX,o.start.y=o.last.y=o.end.y=e.pageY||e.clientY,kt[t]=o,o}function K(t){var e=void 0!==t.identifier?t.identifier:0,o=function(t){return kt[t]||null}(e);return null===o&&(o=J(e,t)),o.last.x=o.end.x,o.last.y=o.end.y,o.end.x=t.pageX||t.clientX,o.end.y=t.pageY||t.clientY,o}function tt(t){if(yt[t])return yt[t].distance}function et(t){return{direction:t,distance:0}}function ot(){return St-Ot}function it(t,e){var o=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return Math.round(Math.sqrt(o*o+i*i))}function nt(t,e){if(l=e,(r=t).x==l.x&&r.y==l.y)return s;var r,l,p=function(t,e){var o=t.x-e.x,i=e.y-t.y,n=Math.atan2(i,o),a=Math.round(180*n/Math.PI);return a<0&&(a=360-Math.abs(a)),a}(t,e);return p<=45&&p>=0?o:p<=360&&p>=315?o:p>=135&&p<=225?i:p>45&&p<135?a:n}function at(){return(new Date).getTime()}S=t.extend({},S);var rt=$||k||!S.fallbackToMouseEvents,lt=rt?k?T?"MSPointerDown":"pointerdown":"touchstart":"mousedown",st=rt?k?T?"MSPointerMove":"pointermove":"touchmove":"mousemove",pt=rt?k?T?"MSPointerUp":"pointerup":"touchend":"mouseup",ct=rt?k?"mouseleave":null:"mouseleave",ut=k?T?"MSPointerCancel":"pointercancel":"touchcancel",dt=0,ht=null,ft=null,bt=0,gt=0,vt=0,xt=1,wt=0,mt=0,yt=null,_t=t(e),$t="start",Tt=0,kt={},Ot=0,St=0,Et=0,Lt=0,Pt=0,Mt=null,Dt=null;try{_t.bind(lt,E),_t.bind(ut,M)}catch(e){t.error("events not supported "+lt+","+ut+" on jQuery.swipe")}this.enable=function(){return this.disable(),_t.bind(lt,E),_t.bind(ut,M),_t},this.disable=function(){return C(),_t},this.destroy=function(){C(),_t.data(O,null),_t=null},this.option=function(e,o){if("object"==typeof e)S=t.extend(S,e);else if(void 0!==S[e]){if(void 0===o)return S[e];S[e]=o}else{if(!e)return S;t.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}var o="left",i="right",n="up",a="down",r="in",l="out",s="none",p="auto",c="swipe",u="pinch",d="tap",h="doubletap",f="longtap",b="horizontal",g="vertical",v="all",x=10,w="start",m="move",y="end",_="cancel",$="ontouchstart"in window,T=window.navigator.msPointerEnabled&&!window.PointerEvent&&!$,k=(window.PointerEvent||window.navigator.msPointerEnabled)&&!$,O="TouchSwipe";t.fn.swipe=function(o){var i=t(this),n=i.data(O);if(n&&"string"==typeof o){if(n[o])return n[o].apply(n,Array.prototype.slice.call(arguments,1));t.error("Method "+o+" does not exist on jQuery.swipe")}else if(n&&"object"==typeof o)n.option.apply(n,arguments);else if(!(n||"object"!=typeof o&&o))return function(o){return!o||void 0!==o.allowPageScroll||void 0===o.swipe&&void 0===o.swipeStatus||(o.allowPageScroll=s),void 0!==o.click&&void 0===o.tap&&(o.tap=o.click),o||(o={}),o=t.extend({},t.fn.swipe.defaults,o),this.each(function(){var i=t(this),n=i.data(O);n||(n=new e(this,o),i.data(O,n))})}.apply(this,arguments);return i},t.fn.swipe.version="1.6.18",t.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},t.fn.swipe.phases={PHASE_START:w,PHASE_MOVE:m,PHASE_END:y,PHASE_CANCEL:_},t.fn.swipe.directions={LEFT:o,RIGHT:i,UP:n,DOWN:a,IN:r,OUT:l},t.fn.swipe.pageScroll={NONE:s,HORIZONTAL:b,VERTICAL:g,AUTO:p},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:v}}),$(document).ready(function(){var t="topbox",e={effect:"fade",backgroundBlur:!1,skin:"darkroom",keyboardNav:!0,clickImgToClose:!1,clickOverlayToClose:!0,closeToolTip:"Close",previousToolTip:"Previous",nextToolTip:"Next",titleSource:"title",onInit:function(){},beforeShowLightbox:function(){},afterShowLightbox:function(t){},beforeHideLightbox:function(){},afterHideLightbox:function(){},beforePrev:function(t){},onPrev:function(t){},beforeNext:function(t){},onNext:function(t){},pdfMessage:"View the PDF in a new window:",pdfButton:"Tap Here",errorMessage:"The requested content cannot be loaded. Please try again later."};function o(o,i){this.el=o,this.$el=$(this.el),this.options=$.extend({},e,i),this._defaults=e,this._name=t,this.init()}o.prototype={init:function(){var t=this;/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)||$("body").addClass("topbox_notouch"),this.options.backgroundBlur&&$("body").wrapInner('<div class="topbox_blur_wrapper" />'),this.$el.on("click",function(e){t.showLightbox(e)}),this.options.keyboardNav&&$("body").off("keyup").on("keyup",function(e){var o=e.keyCode?e.keyCode:e.which;27==o&&t.destructLightbox(),37==o&&$(".topbox_prev").trigger("click"),39==o&&$(".topbox_next").trigger("click")}),this.options.onInit.call(this)},showLightbox:function(t){var e=this,o=this.$el;if(this.checkContent(o)){t.preventDefault(),this.options.beforeShowLightbox.call(this);var i=this.constructLightbox();if(i){var n=i.find(".topbox_content");if(n){if($("body").addClass("topbox_open topbox_body_effect_"+this.options.effect),this.processContent(n,o),this.$el.attr("data-lightbox-gallery")){var a=$('[data-lightbox-gallery="'+this.$el.attr("data-lightbox-gallery")+'"]');$(".topbox_nav").show(),$(".topbox_prev").off("click").on("click",function(t){t.preventDefault(),$(".topbox_content").empty();var i=a.index(o);o=a.eq(i-1),$(o).length||(o=a.last()),$.when(e.options.beforePrev.call(this,[o])).done(function(){e.processContent(n,o),e.options.onPrev.call(this,[o])})}),$(".topbox_next").off("click").on("click",function(t){t.preventDefault(),$(".topbox_content").empty();var i=a.index(o);o=a.eq(i+1),$(o).length||(o=a.first()),$.when(e.options.beforeNext.call(this,[o])).done(function(){e.processContent(n,o),e.options.onNext.call(this,[o])})})}setTimeout(function(){i.addClass("topbox_open"),e.options.afterShowLightbox.call(this,[i])},1)}}}},checkContent:function(t){var e=t.attr("href"),o=e.match(/(youtube|youtube-nocookie|youtu|vimeo)\.(com|be|ly|tv)\/((watch\?v=([\w-]+))|(embed\/([\w-]+))|([\w-]+))/);return videoOther=e.match(/(dai|brighteon|ted)\.(com|be|ly|tv|net)\/((talks\/([\w-]+))|([\w-]+))/),null!==e.match(/\.(jpeg|jpg|gif|png|tiff|svg|webp)$/i)||(null!==e.match(/\.(ogg|mp3)$/i)||(null!==e.match(/\.(ogv|mov|webm|mp4)$/i)||(null!==e.match(/\.(pdf)$/i)||(!!o||(!!videoOther||("ajax"==t.attr("data-lightbox-type")||("#"==e.substring(0,1)&&"inline"==t.attr("data-lightbox-type")||("video-iframe"==t.attr("data-lightbox-type")||"iframe"==t.attr("data-lightbox-type")))))))))},processContent:function(t,e){var o=this,i=e.attr("href"),n=i.match(/(youtube|youtube-nocookie|youtu|vimeo)\.(com|be|ly|tv)\/((watch\?v=([\w-]+))|(embed\/([\w-]+))|([\w-]+))/);if(videoOther=i.match(/(dai|brighteon|ted)\.(com|be|net|ly|tv)\/((talks\/([\w-]+))|([\w-]+))/),null!==i.match(/\.(jpeg|jpg|gif|png|tiff|svg|webp)$/i)){var a=$("<img>",{src:i,class:"topbox_image"});a.one("load",function(){t.prepend(a)}).each(function(){this.complete&&$(this).on("load")}),a.on("error",function(){var e=$('<div class="topbox_error"><p>'+o.options.errorMessage+"</p></div>");t.html(e)})}else if(n){var r="",l="topbox_embedded_web_video";if("youtube"==n[1]&&(r="https://www.youtube.com/embed/"+n[3]+"?autoplay=1&amp;rel=0",l="topbox_youtube"),"embed"==n[5]&&(r="https://www.youtube.com/embed/"+n[6]+"?autoplay=1&amp;rel=0",l="topbox_youtube"),"youtube-nocookie"==n[1]&&(r=i,l="topbox_youtube"),"youtu"==n[1]&&(r="https://www.youtube.com/embed/"+n[3]+"?autoplay=1&amp;rel=0",l="topbox_youtube"),"vimeo"==n[1]&&(r="https://player.vimeo.com/video/"+n[3]+"?autoplay=1&amp;rel=0&amp;playsinline=0",l="topbox_vimeo"),r){var s=$("<iframe>",{src:r,class:l,frameborder:0,vspace:0,hspace:0,scrolling:"auto",allowfullscreen:"true",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"});t.prepend(s),$("iframe").wrap('<div class="topbox_embedded_web_video" id="player" />')}}else if(videoOther){r="",l="topbox_embedded_web_video";if("dai"==videoOther[1]&&(r="https://www.dailymotion.com/embed/video/"+videoOther[3]+"?autoPlay=1",l="topbox_dailymotion"),"ted"==videoOther[1]&&(r="https://embed.ted.com/"+videoOther[3]+"?autoplay=1",l="topbox_ted"),"brighteon"==videoOther[1]&&(r="https://www.brighteon.com/embed/"+videoOther[3]+"?autoplay=1",l="topbox_brighteon"),r){s=$("<iframe>",{src:r,class:l,frameborder:0,vspace:0,hspace:0,scrolling:"auto",allowfullscreen:"true",allowtransparency:"true",allow:"autoplay; encrypted-media"});t.prepend(s),$("iframe").wrap('<div class="topbox_embedded_web_video" />')}}else if("ajax"==e.attr("data-lightbox-type"))$.ajax({url:i,cache:!1,success:function(t){$('<div class="topbox_ajax" />').append(t)},error:function(){var e=$('<div class="topbox_error"><p>'+o.options.errorMessage+"</p></div>");t.html(e)}});else if("#"==i.substring(0,1)&&"inline"==e.attr("data-lightbox-type"))if($(i).length){var p=$('<div class="topbox_inline" />');p.append($(i).clone().show()),t.html(p)}else{var c=$('<div class="topbox_error"><p>'+o.options.errorMessage+"</p></div>");t.html(c)}else if(null!==i.match(/\.(pdf)$/i))if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){var u=i,d=$('<div class="topbox_pdf_mobile_message"><p>'+o.options.pdfMessage+'<br><a href="'+u+'" target="_blank" class="topbox_pdf_mobile_button">'+o.options.pdfButton+"</a></p></div>");t.html(d)}else{var h=$("<iframe>",{src:i,class:"topbox_pdf",frameborder:0,vspace:0,hspace:0,scrolling:"auto"});t.html(h),$("iframe.topbox_pdf").wrap('<div class="topbox_pdf_wrap" />')}else if(null!==i.match(/\.(ogg|mp3)$/i)){var f=$("<audio>",{src:i,id:"player",class:"topbox_html5audio",controls:"true",playsinline:"true",preload:"auto",autoplay:"true"});t.html(f),$("audio.topbox_html5audio").wrap('<div class="topbox_html5_audio_wrap" />')}else if(null!==i.match(/\.(ogv|mov|webm|mp4)$/i)){var b=$("<video>",{src:i,id:"player",class:"topbox_html5video",controls:"true",playsinline:"true",preload:"auto",autoplay:"true"});t.html(b),$("video.topbox_html5video").wrap('<div class="topbox_html5_video_wrap" />')}else if("iframe"==e.attr("data-lightbox-type")){h=$("<iframe>",{src:i,class:"topbox_iframe",frameborder:0,vspace:0,hspace:0,scrolling:"auto"});t.html(h),$("iframe.topbox_iframe").wrap('<div class="topbox_iframe_wrap" />')}else{if("video-iframe"!=e.attr("data-lightbox-type"))return!1;h=$("<iframe>",{src:i,class:"topbox_video_iframe",frameborder:0,vspace:0,hspace:0,scrolling:"auto"});t.html(h),$("iframe.topbox_video_iframe").wrap('<div class="topbox_video_iframe_wrap" />')}if(e.attr(this.options.titleSource)){var g=$("<span>",{id:"topbox_title",class:"topbox_title"});g.text(e.attr(this.options.titleSource)),$(".topbox_title_wrap").html(g)}else $(".topbox_title_wrap").html("")},constructLightbox:function(){if($(".topbox_overlay").length)return $(".topbox_overlay");var t=$("<div>",{"aria-labelledby":"topbox_title",role:"dialog",class:"topbox_overlay topbox_skin_"+this.options.skin+" topbox_effect_"+this.options.effect}),e=$('<div class="topbox_fill"></div>'),o=$("<div>",{class:"topbox_wrapper"}),i=$("<div>",{class:"topbox_content"}),n=$("<div>",{class:"topbox_title_wrap"}),a=$('<a href="#" class="topbox_nav topbox_prev" tabindex="2" title="'+this.options.previousToolTip+'"></a><a href="#" class="topbox_nav topbox_next" tabindex="3" title="'+this.options.nextToolTip+'"></a>'),r=$('<a href="#" class="topbox_close" tabindex="1" title="'+this.options.closeToolTip+'"></a>');t.append(e),o.append(i),o.append(n),t.append(o),t.append(a),t.append(r),$("body").append(t);var l=this;return l.options.clickOverlayToClose&&t.on("click",function(t){(t.target===this||$(t.target).hasClass("topbox_wrapper")||$(t.target).hasClass("topbox_content"))&&l.destructLightbox()}),l.options.clickImgToClose&&t.on("click",function(t){(t.target===this||$(t.target).hasClass("topbox_image"))&&l.destructLightbox()}),r.on("click",function(t){t.preventDefault(),l.destructLightbox()}),$(".topbox_closer").on("click",function(t){t.preventDefault(),l.destructLightbox()}),$("*[tabindex]").each(function(t){$(this).data("tabindex",$(this).attr("tabindex")).attr("tabindex","-1")}),$(".topbox_overlay *[tabindex]").each(function(t){$(this).attr("tabindex",$(this).data("tabindex"))}),t},destructLightbox:function(){this.options.beforeHideLightbox.call(this),$(".topbox_overlay").removeClass("topbox_open"),$(".topbox_nav").hide(),$("body").removeClass("topbox_open topbox_body_effect_"+this.options.effect),$(".topbox_prev").off("click"),$(".topbox_next").off("click"),$(".topbox_content").empty(),$("*[tabindex]").each(function(t){$(this).attr("tabindex",$(this).data("tabindex"))}),this.options.afterHideLightbox.call(this)}},$.fn[t]=function(e){return this.each(function(){$.data(this,t)||$.data(this,t,new o(this,e))})};$(document).on("click",".lightbox",function(){var t;t=".topbox_overlay",$(t).swipe("destroy"),$(t).swipe({swipe:function(t,e,o,i,n,a){"left"==e&&$(".topbox_next").trigger("click"),"right"==e&&$(".topbox_prev").trigger("click")}})})});